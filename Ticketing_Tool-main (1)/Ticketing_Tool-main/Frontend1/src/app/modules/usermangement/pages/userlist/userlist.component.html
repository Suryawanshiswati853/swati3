<app-layout>
  <div id="stafflist-page">
    <div class="main-wrapper">
      <h2>Manage Users</h2>
      <!-- search by name  -->
      <mat-form-field appearance="outline">
        <mat-label>Search User By Name </mat-label>
        <input matInput (keyup)="applyFilterByName($event)" matSortDirection="first_name" matSortStart="asc"
          matSortDisableClear placeholder="Ex. ium" #input matInput placeholder="Search user by Name"
          autocomplete="off" />
      </mat-form-field>
      <!-- search by emp_id  -->
      <mat-form-field appearance="outline">
        <mat-label>Search User By Emp Id </mat-label>
        <input matInput (keyup)="applyFilterById($event)" matSortDirection="emp_id" matSortStart="asc"
          matSortDisableClear placeholder="Ex. ium" #input matInput placeholder="Search user by Emp Id"
          autocomplete="off" />
      </mat-form-field>
      <!-- Add Staff Button -->
      <button mat-flat-button class="btn-upload" type="button" (click)="addUser(false)">
        Manage Staff
      </button>
      <!-- Table -->
      <table mat-table [dataSource]="dataSource" matSort (matSortChange)="announceSortChange($event)"
        matSortDirection="desc" class="mat-elevation-z2">
        <!-- employee Column -->
        <ng-container matColumnDef="emp_id">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Employee Id</th>
          <th mat-header-cell mat-sort-header sortActionDescription="Sort by emp_id" *matHeaderCellDef>
            Employee Id
          </th>
          <td mat-cell *matCellDef="let element">
            {{element && element.emp_id ? element.emp_id : ''}}
          </td>
        </ng-container>
        <!-- Username Column -->
        <ng-container matColumnDef="username">
          <th mat-header-cell *matHeaderCellDef> User Name </th>
          <th mat-header-cell *matHeaderCellDef>
            Name
          </th>
          <td mat-cell *matCellDef="let element">
            {{element && element.first_name ? element.first_name : ""}}
            {{element && element.last_name ? element.last_name : ""}}
          </td>
        </ng-container>
        <!-- Email Column -->
        <ng-container matColumnDef="email">
          <th mat-header-cell *matHeaderCellDef>
            Email Address
          </th>
          <td mat-cell *matCellDef="let element">
            {{element && element.email ? element.email : ''}}
          </td>
        </ng-container>
        <!-- Mobile Column -->
        <ng-container matColumnDef="mobile_number">
          <th mat-header-cell *matHeaderCellDef>
            Mobile No
          </th>
          <td mat-cell *matCellDef="let element">
            {{element && element.mobile_number ? element.mobile_number : ''}}
          </td>
        </ng-container>
        <!-- user Role Column -->
        <ng-container matColumnDef="usertype">
          <th mat-header-cell *matHeaderCellDef>
            User Role
          </th>
          <td mat-cell *matCellDef="let element">
            {{element && element.role ? element.role : ''}}
          </td>
        </ng-container>
        <!-- user date Column -->
        <ng-container matColumnDef="user_date">
          <th mat-header-cell mat-sort-header sortActionDescription="Sort by user_date" *matHeaderCellDef>
            Created At
          </th>
          <td mat-cell *matCellDef="let element">
            {{ (element && element.createdAt ? element.createdAt : '') | date:'MMM d, y' }}
          </td>
        </ng-container>
        <!-- status Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>
            Status
          </th>
          <td mat-cell *matCellDef="let element">
            {{element && element.status ? element.status : ''}}
          </td>
        </ng-container>
        <!-- Action Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef class="actioncol">Action</th>
          <td mat-cell *matCellDef="let row" style="text-align: center">
            <button mat-mini-fab class="btn-view" matTooltip="Edit Staff"
              aria-label="Example icon button with a delete icon" (click)="edit_dailog(row)">
              <mat-icon>edit</mat-icon>
            </button>
          </td>
        </ng-container>
        <!-- Meassge -->
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        <tr class="mat-row" *matNoDataRow>
          <td class="text-center">No Staff Found</td>
        </tr>
      </table>
      <!-- paginator -->
      <mat-paginator [pageSizeOptions]="[10, 20, 30]" showFirstLastButtons
        aria-label="Select page of periodic elements">
      </mat-paginator>
    </div>
  </div>
</app-layout>